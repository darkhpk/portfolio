{% extends "base.html" %}
{% load form_tags %}

{% block title %}Sign up{% endblock %}
{% block content %}
  <section class="section py-4">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="card shadow-sm p-4">
            <h2 class="card-title mb-4">Create Account</h2>
            <form method="post" novalidate class="row g-3">
              {% csrf_token %}
              {{ form.non_field_errors }}

              <!-- Account Type Selection -->
              <div class="form-field mb-4">
                <label class="form-label fw-bold mb-3">
                  <i class="fa-solid fa-user-tag me-2"></i>Account Type
                </label>
                {% for choice in form.user_role %}
                  <div class="form-check mb-2">
                    {{ choice.tag }}
                    <label class="form-check-label" for="{{ choice.id_for_label }}">
                      {{ choice.choice_label }}
                    </label>
                  </div>
                {% endfor %}
                {% for e in form.user_role.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
              </div>

              <div class="form-field">
                <label for="{{ form.email.id_for_label }}">
                  <i class="fa-solid fa-envelope me-2"></i>Email
                </label>
                {{ form.email }}
                {% for e in form.email.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
              </div>

              <div class="form-field">
                <label for="{{ form.password.id_for_label }}">
                  <i class="fa-solid fa-lock me-2"></i>Password
                </label>
                {{ form.password }}
                {% for e in form.password.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
              </div>

              <div class="form-field">
                <label for="{{ form.confirm_password.id_for_label }}">
                  <i class="fa-solid fa-lock me-2"></i>Confirm Password
                </label>
                {{ form.confirm_password }}
                {% for e in form.confirm_password.errors %}<div class="text-danger small">{{ e }}</div>{% endfor %}
              </div>

              <button class="btn btn-success w-100 btn-lg mt-4" type="submit">
                <i class="fa-solid fa-user-plus me-2"></i>Create Account
              </button>
            </form>
            <p class="text-muted text-center mt-3">
              Already have an account? <a href="{% url 'customer_login' %}">Log in</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

